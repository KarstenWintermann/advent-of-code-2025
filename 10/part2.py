from z3 import *
o = Optimize()
b_0_0 = Int('b_0_0')
o.add(b_0_0>=0)
b_0_1 = Int('b_0_1')
o.add(b_0_1>=0)
b_0_2 = Int('b_0_2')
o.add(b_0_2>=0)
b_0_3 = Int('b_0_3')
o.add(b_0_3>=0)
b_0_4 = Int('b_0_4')
o.add(b_0_4>=0)
b_0_5 = Int('b_0_5')
o.add(b_0_5>=0)
o.add(b_0_4+b_0_5==3)
o.add(b_0_1+b_0_5==5)
o.add(b_0_2+b_0_3+b_0_4==4)
o.add(b_0_0+b_0_1+b_0_3==7)
s_0 = Int('s_0')
o.add(s_0==b_0_0+b_0_1+b_0_2+b_0_3+b_0_4+b_0_5)
b_1_0 = Int('b_1_0')
o.add(b_1_0>=0)
b_1_1 = Int('b_1_1')
o.add(b_1_1>=0)
b_1_2 = Int('b_1_2')
o.add(b_1_2>=0)
b_1_3 = Int('b_1_3')
o.add(b_1_3>=0)
b_1_4 = Int('b_1_4')
o.add(b_1_4>=0)
o.add(b_1_0+b_1_2+b_1_3==7)
o.add(b_1_3+b_1_4==5)
o.add(b_1_0+b_1_1+b_1_3+b_1_4==12)
o.add(b_1_0+b_1_1+b_1_4==7)
o.add(b_1_0+b_1_2+b_1_4==2)
s_1 = Int('s_1')
o.add(s_1==b_1_0+b_1_1+b_1_2+b_1_3+b_1_4)
b_2_0 = Int('b_2_0')
o.add(b_2_0>=0)
b_2_1 = Int('b_2_1')
o.add(b_2_1>=0)
b_2_2 = Int('b_2_2')
o.add(b_2_2>=0)
b_2_3 = Int('b_2_3')
o.add(b_2_3>=0)
o.add(b_2_0+b_2_1+b_2_2==10)
o.add(b_2_0+b_2_2+b_2_3==11)
o.add(b_2_0+b_2_2+b_2_3==11)
o.add(b_2_0+b_2_1==5)
o.add(b_2_0+b_2_1+b_2_2==10)
o.add(b_2_2==5)
s_2 = Int('s_2')
o.add(s_2==b_2_0+b_2_1+b_2_2+b_2_3)
s = Int('s')
o.add(s==s_0+s_1+s_2)
o.minimize(s)
print(o.check())
print(o.model()[s])
